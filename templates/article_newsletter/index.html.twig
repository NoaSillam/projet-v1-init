{% extends 'base.html.twig' %}

{% block title %}ArticleNewsletter index{% endblock %}
{% block stylesheets %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

<style>
  
.imgCard{
        
  object-fit: scale-down;
  max-width: 100%;
max-height: 200px; /* Remplacez par la hauteur maximale souhaitée */
height: auto;

}
</style>
{% endblock %}
{% block body %}
<br>
    <h1 style="text-align:center;">Les Articles de la Newsletters</h1>
<br>
    <div style="margin: auto; width: 80%;">
        <div style="margin-left:auto; margin-right:auto;">
            <a href="{{ path('app_article_newsletter_new')}}" class="btn btn-secondary">Ajouter un nouvel article</a>
        </br>
    </br>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Nom</th>
                <th scope="col">Image</th>
                <th scope="col">Annonce</th>
                <th scope="col" style="text-align:center;">actions</th>
            </tr>
        </thead>
        <tbody>
        {% for article_newsletter in article_newsletters %}
      
            <tr>
          
                <td>{{ article_newsletter.id }}</td>
                <td>{{ article_newsletter.nom }}</td>
                <td>    <img src="{{ asset('assets/images/') ~ article_newsletter.image }}" class="card-img-top imgCard" style="height: 280px; " alt=""></td>
                {% set annonceLength = 250 %} {# Définissez la longueur maximale de l'annonce ici #}
                {% set truncatedAnnonce = article_newsletter.annonce|length > annonceLength ? article_newsletter.annonce|slice(0, annonceLength) ~ '...' : article_newsletter.annonce %}
                <td>{{ truncatedAnnonce | raw  }}</td>
                <td style="display: flex; align-items: center; justify-content: center; border:transparent; margin-top: 20%;" >
                    <a class="btn btn-primary" href="{{ path('send_newsletter', {'id': article_newsletter.id}) }}" style="width:60px; height:100%; margin-right: 10px;"> <img src="{{asset( 'assets/images/icons8-envoyer-30.png') }}" class="card-img-top" style="width:25px;" alt=""></a>
                    <a class="btn btn-success" href="{{ path('app_article_newsletter_show', {'id': article_newsletter.id}) }}" style="width:60px; height:100%; margin-right: 10px;"><img src="{{asset( 'assets/images/plus.png') }}" class="card-img-top" style="width:25px;" alt=""></a>
                    <a class="btn btn-info" href="{{ path('app_article_newsletter_edit', {'id': article_newsletter.id}) }}" style="width:60px; height:100%; margin-right: 10px;"><img src="{{asset( 'assets/images/modifier.png') }}" class="card-img-top" style="width:25px;" alt=""></a>
                    {{ include('article_newsletter/_delete_form.html.twig') }}

                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="5">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
</div>


{% endblock %}
