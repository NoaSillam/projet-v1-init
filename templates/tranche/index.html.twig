{% block stylesheets %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <style>
    </style>
{% endblock %}
{% block body %}
    {{ include('base.html.twig') }}
<br>
    <h1 style="text-align: center;">Les Tranches</h1>
<div style="margin: auto; width: 90%;">
    <div style="margin-left:auto; margin-right:auto;">
        <a href="{{ path('app_tranche_new')}}" class="btn btn-secondary">Ajouter une nouvelle tranche</a>
        <br>
        <br>
    <table class="table">
        <thead>
            <tr>
                <th>Id</th>
                <th>Debut</th>
                <th>Fin</th>
                <th>Ménage</th>
                <th>Régions</th>
                <th>nbPersonne</th>
                <th>Prime</th>
                <th>Aide</th>
                <th>Installation</th>
                <th style="text-align: center;">Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for tranche in tranches %}
            <tr>
                <td>{{ tranche.id }}</td>
            {#    <td>{{ tranche.debut }}€</td>
                <td>{{ tranche.Fin | default('N/A') }}€</td>#}
                <td>{{ tranche.TrancheFiscal is not null ? tranche.TrancheFiscal.Debut ~ '€' : 'N/A' }}</td>
                <td>{{ tranche.TrancheFiscal is not null ? tranche.TrancheFiscal.Fin ~ '€' : 'N/A' }}</td>
                <td>{{ tranche.Menage.Nom }}</td>
                <td>{{ tranche.TrancheFiscal.Regions.Nom }}</td>
                <td>{{ tranche.TrancheFiscal.nbPersonne.nbPersonne }}</td>
                <td>{{ tranche.Prime.Nom }}</td>
                <td>{{ tranche.Aide }}€</td>
                <td>{{ tranche.TypeDevis.Nom | default('N/A') }}</td>
                <td style="display: flex; align-items: center; justify-content: center;  " >

                    <a class="btn btn-success" href="{{ path('app_tranche_show', {'id': tranche.id}) }}" style="width:60px;  height:40px; margin-right: 10px;"><img src="{{asset( 'assets/images/plus.png') }}" class="card-img-top" style="width:25px;" alt=""></a>
                    <a class="btn btn-info" href="{{ path('app_tranche_edit', {'id': tranche.id}) }}" style="width:60px;  height:40px; margin-right: 10px;"><img src="{{asset( 'assets/images/modifier.png') }}" class="card-img-top" style="width:25px;" alt=""></a>
                    <div style="  height:40px;">  {{ include('tranche/_delete_form.html.twig') }}</div>


                </td>

            </tr>
        {% else %}
            <tr>
                <td colspan="4">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
        <br>
        <br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    </div>
</div>


{% endblock %}
  {%block javascripts %}

      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  {%endblock%}
